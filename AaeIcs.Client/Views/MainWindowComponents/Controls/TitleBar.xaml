<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:syncfusion="http://schemas.syncfusion.com/wpf"
                    xmlns:behaviors="clr-namespace:AAEICS.Client.Helpers">
    
    <ControlTemplate x:Key="TitleBarTemplate" TargetType="ContentControl">
        <Grid Background="Transparent"
              behaviors:WindowBehaviors.EnableDrag="True">
            
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <TextBlock Grid.Column="1" 
                       Text="{Binding Title, RelativeSource={RelativeSource AncestorType=syncfusion:ChromelessWindow}}" 
                       Style="{DynamicResource TitleBarHeader}" 
                       Margin="10,0,10,0"/>
            
            <StackPanel Grid.Column="2" 
                        Orientation="Horizontal" 
                        VerticalAlignment="Stretch">
                <Button Style="{DynamicResource WindowControlButtonStyle}" 
                        Command="{Binding MinimizeAppCommand}"
                        CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=syncfusion:ChromelessWindow}}">
                    <Path Data="{DynamicResource MinimizeIcon}"
                          Fill="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}" 
                          Width="14" Height="14" Stretch="Uniform"/>
                </Button>
                
                <Button Style="{DynamicResource WindowControlButtonStyle}" 
                        Command="{Binding MaximizeAppCommand}"
                        CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=syncfusion:ChromelessWindow}}">
                    <Path Fill="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}" 
                          Width="14" Height="14" Stretch="Uniform">
                        <Path.Style>
                            <Style TargetType="Path">
                                <Setter Property="Data" Value="{DynamicResource MaximizeIcon}"/>
            
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding WindowState, RelativeSource={RelativeSource AncestorType=Window}}" Value="Maximized">
                                        <Setter Property="Data" Value="{DynamicResource RestoreIcon}"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Path.Style>
                    </Path>
                </Button>
                
                <Button Style="{DynamicResource WindowCloseButtonStyle}"
                        Command="{Binding CloseAppCommand}">
                    <Path Data="{DynamicResource CloseIcon}" Stroke="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}" StrokeThickness="1.5" Width="14" Height="14" Stretch="Uniform"/>
                </Button>
            </StackPanel>
        </Grid>
    </ControlTemplate>
</ResourceDictionary>